(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{173:function(e,t,n){"use strict";n.r(t);n(51),n(90);var r=n(203),a=n.n(r),o=(n(33),n(196),n(204)),i=n.n(o),s=n(7),l=n.n(s),c=n(280),u=n.n(c),m=n(0),p=(n(225),n(226),function(e){function t(t){var n;return(n=e.call(this,t)||this).state={thrownError:null},n}l()(t,e);var n=t.prototype;return n.componentDidCatch=function(e,t){console.log("ERROR"),this.setState({thrownError:e}),console.error(e,t)},n.render=function(){return this.state.thrownError?m.createElement("div",null,m.createElement("h2",null,"Something went wrong."),m.createElement("details",{style:{whiteSpace:"pre-wrap"}},this.state.error&&this.state.error.toString(),m.createElement("br",null),this.state.errorInfo.componentStack)):this.props.children},t}(m.Component)),h=function(e){function t(){return e.apply(this,arguments)||this}return l()(t,e),t.prototype.render=function(){var e=this.props,t=e.type,n=e.isOpen,r=e.message,a="error"===t?"red":"none";return n?m.createElement("div",{style:{backgroundColor:a}},m.createElement("h2",null,r.title),r.details&&m.createElement("details",{style:{whiteSpace:"pre-wrap"}},r.details)):null},t}(m.PureComponent),d=(n(82),n(52),n(206),n(56),n(283),n(285)),f=n.n(d),C=n(286),g=n.n(C),v=n(288),x=n.n(v),b=n(306),k=n.n(b),E=n(394),y=n.n(E),w=n(395),N=n.n(w),S=n(409),F=n.n(S),B=n(410),O=n.n(B),A=n(411),L=n.n(A),R=n(412),D=n.n(R),T=n(413),j=n.n(T),W=function(e){var t=this;this.test=i()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.repo.readRef("refs/heads/master");case 3:if(e.sent){e.next=6;break}throw new Error("Failed to fetch refs/heads/master");case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("test error occurred"),console.error(e.t0);case 12:case"end":return e.stop()}},e,this,[[0,8]])})),this.tree=g()(a.a.mark(function e(){var t,n,r,o;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(this.repo),e.next=4,f()(this.repo.readRef("refs/heads/master"));case 4:return t=e.sent,console.log({headHash:t}),e.next=8,f()(this.repo.loadAs("commit",t));case 8:return n=e.sent,console.log({commit:n}),e.next=12,f()(this.repo.treeWalk(n.tree));case 12:(r=e.sent).read=x()(r.read);case 14:return e.next=16,f()(r.read());case 16:if(!(o=e.sent)){e.next=22;break}if(o.body){e.next=20;break}return e.next=20,o;case 20:e.next=14;break;case 22:e.next=28;break;case 24:e.prev=24,e.t0=e.catch(0),console.log("tree error occurred"),console.error(e.t0);case 28:case"end":return e.stop()}},e,this,[[0,24]])})),this.getFileContent=(r=i()(a.a.mark(function e(n){var r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.repo.loadAs("text",n.hash);case 3:return r=e.sent,e.abrupt("return",r);case 7:e.prev=7,e.t0=e.catch(0),console.log("content error ocurred"),console.error(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,7]])})),function(e){return r.apply(this,arguments)}),this.getAuthorOfLine=(n=i()(a.a.mark(function e(t,n){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)})),function(e,t){return n.apply(this,arguments)}),this.githubRepoName=e;var n;var r;var o={};N()(o,e,"d8dab5919930651aec0d4cf1cbd9341c4e2866a8"),F()(o),y()(o,k.a),O()(o),L()(o),D()(o),function(e){var t=e.loadAs;e.loadAs=function n(r,a,o){if(!o)return n.bind(e,r,a);var i="text"===r?"blob":"array"===r?"tree":r;return"text"===r?t.call(e,i,a,function(e,t,n){for(var r="",a=0;a<t.length;a++)r+=String.fromCharCode(t[a]);return o(e,t=r,n)}):t(r,a,o)}}(o),j()(o),k.a.init(function(e){if(e)throw e});var s=Object.keys(o).reduce(function(e,t){var n;return Object.assign({},e,((n={})[t]=x()(o[t]),n))},{});this._repo=o,this.repo=s},P=n(414),q=n.n(P),I=/^[a-zA-Z0-9-]+\/[a-zA-Z0-9-]+$/,U=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={input:"",error:null,allowRequest:!0},t.handleRepoInput=function(e){t.setState({input:e.target.value,error:null,allowRequest:!0})},t.handleSubmit=function(){var e=i()(a.a.mark(function e(n){var r,o,i;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),r=t.state,o=r.input,r.allowRequest){e.next=4;break}return e.abrupt("return");case 4:if(!o||!I.test(o)){e.next=18;break}return t.setState({allowRequest:!1}),i=new W(o),e.prev=7,e.next=10,i.test();case 10:t.props.onRepoFetch({repoClient:i,repoName:o}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(7),t.setState({error:{title:e.t0.toString(),details:e.t0.stack}});case 16:e.next=19;break;case 18:t.setState({error:{title:"Thats not a valid repo name!"}});case 19:case"end":return e.stop()}},e,this,[[7,13]])}));return function(t){return e.apply(this,arguments)}}(),t}return l()(t,e),t.prototype.render=function(){var e=this.state.error;return m.createElement("form",{onSubmit:this.handleSubmit,className:q.a.form},m.createElement(h,{type:"error",isOpen:e,message:e}),m.createElement("label",{htmlFor:"repoName"},"Repo Name"),m.createElement("input",{name:"repoName",onChange:this.handleRepoInput,type:"text",placeholder:"andykais/egg-hunt"}),m.createElement("button",null,"cache repo"))},t}(m.PureComponent),$=n(416),z=n.n($),V={Nothing:null,"Date Modified":function(){},"Date Created":function(){}},Z={Anything:null,"Swear Words":function(){},"Proper Names":function(){}},H=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleSortByChange=function(e){t.props.onChange(Object.assign({},t.props.uiChoices,{sortBy:e.target.value}))},t.handleSortDescChange=function(e){t.props.onChange(Object.assign({},t.props.uiChoices,{sortDesc:e.target.value}))},t.handleFilterByChange=function(e){t.props.onChange(Object.assign({},t.props.uiChoices,{filterBy:e.target.value}))},t.handleHideFilesChange=function(e){t.props.onChange(Object.assign({},t.props.uiChoices,{hideFilesWithoutComments:e.target.checked}))},t.handleExpandCommentsChange=function(e){t.props.onChange(Object.assign({},t.props.uiChoices,{expandAllComments:e.target.checked}))},t}return l()(t,e),t.prototype.render=function(){var e=this.props.disableTools,t=this.props.uiChoices,n=t.hideFilesWithoutComments,r=t.expandAllComments;return m.createElement("form",{className:z.a.form},m.createElement("fieldset",{disabled:e&&"disabled"},m.createElement("div",{className:z.a.input},m.createElement("label",{htmlFor:"sortBy"},"Sort Comments By"),m.createElement("select",{name:"sortBy",onChange:this.handleSortByChange},Object.keys(V).map(function(e){return m.createElement("option",{key:e,value:e},e)})),m.createElement("select",{name:"sortDesc",onChange:this.handleSortByChange},m.createElement("option",{value:"Descending"},"Descending"),m.createElement("option",{value:"Ascending"},"Ascending"))),m.createElement("div",{className:z.a.input},m.createElement("label",{htmlFor:"filterBy"},"Filter Comments By"),m.createElement("select",{name:"filterBy",onChange:this.handleFilterByChange},Object.keys(Z).map(function(e){return m.createElement("option",{key:e,value:e},e)}))),m.createElement("div",{className:z.a.input+" "+z.a.checkboxContainer},m.createElement("input",{className:z.a.checkbox,name:"hideFilesWithoutComments",type:"checkbox",checked:n,onChange:this.handleHideFilesChange}),m.createElement("label",{className:z.a.checkboxLabel,htmlFor:"hideFilesWithoutComments"},"Hide Files Without Comments")),m.createElement("div",{className:z.a.input+" "+z.a.checkboxContainer},m.createElement("input",{className:z.a.checkbox,name:"expandAllComments",type:"checkbox",checked:r,onChange:this.handleExpandCommentsChange}),m.createElement("label",{className:z.a.checkboxLabel,htmlFor:"expandAllComments"},"Expand All Comments"))))},t}(m.PureComponent),M=(n(93),n(418),n(420)),Q=n.n(M),J=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={isOpen:!1},t.handleContainerClick=function(e){var n=t.props.comments;(void 0===n?[]:n).length&&t.setState(function(e){return{isOpen:!e.isOpen}})},t}return l()(t,e),t.prototype.render=function(){var e=this.props,t=e.file,n=e.comments,r=e.urlBase,a=e.expandAll,o=this.state.isOpen;return m.createElement("div",{className:Q.a.content+" "+(t?"":Q.a.downloading)},m.createElement("div",{onClick:this.handleContainerClick,className:Q.a.title},m.createElement("span",{className:Q.a.link},m.createElement("a",{href:""+r+t.path},t.path.substr(1))),m.createElement("span",null,n.length+" Comments")),(o||a)&&m.createElement("div",{className:Q.a.comments},n.map(function(e){return m.createElement("div",{className:Q.a.comment,key:e.line},e.value.split("\n").map(function(n,a){return m.createElement(m.Fragment,{key:e.line+"-"+a},m.createElement("div",{className:Q.a.lineLink},m.createElement("a",{href:""+r+t.path+"#L"+e.line},e.line+a)),m.createElement("div",{className:Q.a.commentLine},m.createElement("span",null,n)))}))})))},t}(m.Component),Y=function(e){function t(){return e.apply(this,arguments)||this}return l()(t,e),t.prototype.render=function(){var e=this.props,t=e.repoName,n=e.tree,r=e.fileComments,a=e.expandAll;return t?m.createElement("div",{className:Q.a.fileContainer},n.map(function(e){var n=r[e.path]||[],o="https://github.com/"+t+"/blob/master";return m.createElement(J,Object.assign({urlBase:o,file:e,comments:n,expandAll:a},{key:e.path}))})):m.createElement("div",{className:Q.a.emptyState},m.createElement("h2",null,"Try Entering a Github repo on the left!"))},t}(m.PureComponent),_=(n(91),n(92),n(422),n(423),n(426),n(28),n(431)),G=n.n(_),K=function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},X=function(e){var t=this,n=e.CDI,r=e.CDO,a=e.CDC;this.extractComments=function(e){var n=G.a.compile(t.tokens);n.reset(e);for(var r,a=[];r=n.next();)t.acceptedTypes.includes(r.type)&&a.push(r);return a};var o={WS:/[ \t]+/,SingleQuoteString:/"(?:\\["\\]|[^[\n\r]"\\])*?"/,DoubleQuoteString:/'(?:\\['\\]|[^[\n\r]"\\])*?'/,BacktickString:/`(?:\\[`\\]|[^"\\])*?`/,inline:function(e){if(e){var t=K(e);return new RegExp(t+".*$")}}(n),multiline:{match:function(e,t){if(e&&t){var n=K(e),r=K(t);return new RegExp(n+"[\\s\\S]*?"+r)}}(r,a),lineBreaks:!0},garbage:/.+?/,NL:{match:/[\n\r]/,lineBreaks:!0}};Object.keys(o).forEach(function(e){return void 0===o[e]?delete o[e]:""}),this.tokens=o,this.acceptedTypes=["inline","multiline"]},ee=[{test:/.(js|go)$/,options:{CDI:"//",CDO:"/*",CDC:"*/"}},{test:/.(sh|agc)$/,options:{CDI:"#"}},{test:/.asm$/,options:{CDI:";"}}].map(function(e){return Object.assign({},e,{parser:new X(e.options)})}),te=function(e){var t=e.filename,n=e.content,r=ee.find(function(e){return e.test.test(t)});if(r)try{for(var a=r.parser.extractComments(n),o=[],i=a?a[0]:null,s=1;s<a.length;s++){var l=a[s];"inline"===i.type&&"inline"===l.type&&i.line+i.lineBreaks+1===l.line&&i.col===l.col?(i.value+="\n"+l.value,i.lineBreaks++):(o.push(i),i=l)}return i&&o.push(i),o}catch(e){throw console.error(t,"FUECK UP"),e}},ne=function(e){return Boolean(ee.find(function(t){return t.test.test(e)}))},re=n(432),ae=new(n.n(re).a),oe={"Swear Words":function(e){return ae.isProfane(e)},"Proper Names":function(e){return!1}},ie=n(438),se=n.n(ie),le=n(443),ce=n(439),ue=n.n(ce),me=(n(441),function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={repoName:null,repoClient:null,repoTree:[],fileComments:{},stats:{loadingTree:!1,numFiles:0,numFilesLoaded:0},uiChoices:{hideFilesWithoutComments:!0,expandAllComments:!1,sortBy:"numComments",sortDesc:!0,filterBy:null},uiRepoTree:[]},t.handleRepoFetched=function(){var e=i()(a.a.mark(function e(n){var r,o,i,s,l,c,m,p,h,d,f,C,g,v,x,b,k;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=n.repoName,o=n.repoClient,e.prev=1,i={loadingTree:!0,numFiles:0,numFilesLoaded:0},t.setState({repoName:r,repoClient:o,stats:i}),s=[],l={},c=!0,m=!1,e.prev=8,h=u()(o.tree());case 10:return e.next=12,h.next();case 12:return d=e.sent,c=d.done,e.next=16,d.value;case 16:if(f=e.sent,c){e.next=26;break}C=f,s.push(C),!C.body&&ne(C.path)&&i.numFiles++,g=s.concat(),t.setState({repoTree:g,uiRepoTree:g,stats:Object.assign({},i)});case 23:c=!0,e.next=10;break;case 26:e.next=32;break;case 28:e.prev=28,e.t0=e.catch(8),m=!0,p=e.t0;case 32:if(e.prev=32,e.prev=33,c||null==h.return){e.next=37;break}return e.next=37,h.return();case 37:if(e.prev=37,!m){e.next=40;break}throw p;case 40:return e.finish(37);case 41:return e.finish(32);case 42:v=0;case 43:if(!(v<s.length)){e.next=56;break}if((x=s[v]).body||!ne(x.path)){e.next=53;break}return e.next=48,o.getFileContent(x);case 48:b=e.sent,i.numFilesLoaded++,k=te({filename:x.path,content:b}),l[x.path]=k,t.setState({fileComments:Object.assign({},l),stats:Object.assign({},i)});case 53:v++,e.next=43;break;case 56:i.loadingTree=!1,t.setState({stats:Object.assign({},i)}),t.handleUiChoicesChange(t.state.uiChoices,l,s),e.next=65;break;case 61:e.prev=61,e.t1=e.catch(1),console.log("handle repo fetched error"),console.error(e.t1);case 65:case"end":return e.stop()}},e,this,[[1,61],[8,28,32,42],[33,,37,41]])}));return function(t){return e.apply(this,arguments)}}(),t.handleUiChoicesChange=function(e,n,r){var a=r||t.state.repoTree,o=n||t.state.fileComments;t.setState({uiChoices:e});var i=a;if(e.hideFilesWithoutComments&&(i=i.filter(function(e){return o[e.path]&&o[e.path].length})),console.log(e.filterBy,oe[e.filterBy]),oe[e.filterBy]){var s=oe[e.filterBy];i=i.map(function(e){return o[e.path]&&o[e.path].filter(function(e){return s(e.value)})})}t.setState({uiRepoTree:i})},t}return l()(t,e),t.prototype.render=function(){var e=this.state,t=e.repoName,n=e.fileComments,r=e.uiRepoTree,a=e.stats,o=e.uiChoices,i=a.loadingTree,s=a.loadingTree||a.numFiles!==a.numFilesLoaded;return m.createElement(p,null,m.createElement("div",{className:ue.a.container},m.createElement("div",{className:ue.a.drawer},m.createElement(U,{onRepoFetch:this.handleRepoFetched}),m.createElement(H,{uiChoices:o,disableTools:i,onChange:this.handleUiChoicesChange})),m.createElement("div",{className:ue.a.verticalContainer},m.createElement("div",{className:ue.a.header},m.createElement("h1",null,"egg-hunt"),m.createElement(se.a,null),m.createElement("a",{href:"https://github.com/andykais/egg-hunt"},m.createElement(le.a,null))),m.createElement("div",{className:ue.a.children},i&&m.createElement("div",{className:ue.a.stats},i&&m.createElement("div",null,"finding files..."),s&&m.createElement("div",null,"loaded "+a.numFilesLoaded+"/"+a.numFiles+" files")),m.createElement(Y,{repoName:t,tree:r,fileComments:n,expandAll:o.expandAllComments})))))},t}(m.Component));t.default=me},311:function(e,t){},313:function(e,t){},347:function(e,t){},348:function(e,t){},414:function(e,t,n){e.exports={form:"index-module--form--CLlZ6"}},416:function(e,t,n){e.exports={form:"index-module--form--EbNTo",input:"index-module--input--3vvP4",checkbox:"index-module--checkbox--3g3h1",checkboxLabel:"index-module--checkboxLabel--3Vk3Q",checkboxContainer:"index-module--checkboxContainer--1quWu"}},420:function(e,t,n){e.exports={emptyState:"index-module--emptyState--1ZU2N",fileContainer:"index-module--fileContainer--15mNF",content:"index-module--content--2FII9",title:"index-module--title--1JJxQ",link:"index-module--link--8_niV",downloading:"index-module--downloading--3ffY3",comments:"index-module--comments--HVVLS",comment:"index-module--comment--2LqNp",lineLink:"index-module--lineLink--37EVU",commentLine:"index-module--commentLine--BFcpY"}},438:function(e,t,n){var r=n(0);function a(e){return r.createElement("svg",e,[r.createElement("path",{d:"m 191.69877,163.17227 c 0,49.68262 -40.27571,89.95834 -89.95833,89.95834 -49.682618,0 -89.958339,-40.27572 -89.958337,-89.95834 1e-6,-49.68262 40.275722,-147.637503 89.958337,-147.637502 49.68261,4e-6 89.95833,97.954892 89.95833,147.637502 z",style:{opacity:"1",vectorEffect:"none",fill:"none",fillOpacity:"1",stroke:"currentColor",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeDashoffset:"0",strokeOpacity:"1"},key:0}),r.createElement("path",{transform:"scale(0.26458333)",d:"M 384.53125 58.714844 C 347.02568 58.714843 310.94034 73.495289 277.20117 98.630859 C 280.93545 99.97044 284.52973 101.58233 287.92383 103.52148 C 299.62887 110.20896 307.73577 120.06675 311.98633 133.28711 C 316.19881 146.38903 316.38783 162.13143 313.75586 178.89453 C 308.49819 212.38076 293.125 247.77439 269.47656 271.07227 C 245.39221 294.79959 209.75347 309.11165 176.39844 309.10938 C 157.81534 309.10809 142.4422 304.58645 129.6875 295.85547 C 76.704283 405.5811 44.531252 530.41179 44.53125 616.71484 C 44.531242 804.49168 196.75443 956.71484 384.53125 956.71484 C 411.49825 956.71484 437.72987 953.57018 462.88477 947.63672 C 456.43276 944.91582 450.54295 941.87724 445.31445 938.70312 C 424.23304 925.90502 409.57681 908.58034 409.37109 877.19531 C 409.16686 846.03688 423.94764 801.47264 453.74219 765.69531 C 484.23735 729.07668 524.34873 709.14543 569.57031 700.37109 C 613.26863 691.89232 653.92394 694.77604 674.95117 711.50977 C 686.85214 720.9807 693.5479 735.50973 696.01758 753.21875 C 714.35356 711.43815 724.53125 665.26565 724.53125 616.71484 C 724.53125 428.93808 572.30804 58.714859 384.53125 58.714844 z M 477.65039 292.59961 C 478.54857 292.58881 479.44963 292.58978 480.35156 292.60156 C 485.16186 292.66441 490.02218 293.04641 494.91797 293.73242 C 514.30519 296.44902 533.59512 303.83946 551.24023 313.74609 C 568.7856 323.59672 585.27139 336.25092 598.90039 350.32617 C 627.17733 379.52897 642.97835 414.68184 642.99023 452.58984 C 642.99594 470.78341 639.28704 487.74099 633.14648 502.27344 C 627.02818 516.75322 618.58372 528.71175 608.5293 538.31836 C 598.51035 547.89108 586.23991 555.76563 571.5625 561.96875 C 556.89808 568.16638 538.97236 573.0144 519.03125 575.06641 C 498.9145 577.13649 477.33332 576.27578 456.66016 571.3125 C 435.91993 566.33312 417.81183 557.63417 403.62695 545.66602 C 389.4689 533.7205 380.19752 519.39823 374.56445 503.55078 C 369.01353 487.93442 366.91853 470.58027 366.91406 452.6875 C 366.90966 435.05996 368.97707 414.93529 373.41211 395.69922 C 377.93996 376.06058 385.13662 356.4107 396.15039 339.46289 C 407.24164 322.39586 421.53818 309.11989 438.93164 301.10352 C 451.14059 295.4766 464.17765 292.76161 477.65039 292.59961 z M 169.36133 467.38477 C 191.53029 467.26053 213.45894 478.49069 228.875 500.07617 C 246.5576 524.83526 250.09947 554.95536 246.66211 581.29492 C 243.49638 605.55307 234.23178 630.22037 221.69922 647.86719 C 208.1066 667.00664 186.57228 683.5174 159.19531 686.42969 C 131.59582 689.36565 107.29464 677.13091 91.724609 654.46289 C 76.659164 632.52948 71.509698 603.96583 73.332031 579.17578 C 75.178035 554.06374 84.239713 530.16377 99.167969 509.67773 C 113.99233 489.33428 135.11958 471.92922 159.86523 468.13672 C 163.02373 467.65265 166.19433 467.40251 169.36133 467.38477 z ",key:1})])}a.displayName="Egg",a.defaultProps={version:"1.1",viewBox:"0 0 210 297",stroke:"currentColor",fill:"currentColor",height:"1em",width:"1em"},e.exports=a,a.default=a},439:function(e,t,n){e.exports={container:"index-module--container--Eqp4Q",verticalContainer:"index-module--verticalContainer--2pZbg",drawer:"index-module--drawer--2Zwkp",header:"index-module--header--2Vq0q",children:"index-module--children--2ESlk"}},441:function(e,t,n){}}]);
//# sourceMappingURL=component---src-pages-index-js-8bae08600248e9080724.js.map